# The Abstraction: Processes

## Homework (Simulation)
process-run.py 프로그램을 실행하면서 다음 질문에 답하기

Question
1. 다음과 같이 플래그를 지정하고 프로그램을 실행시키시오: `./process-run.py -l 5:100, 5:100`. CPU 이용률은 얼마가 되어야 하는가(예, CPU가 사용 중인 시간의 퍼센트?) 그러한 이용률을 예측한 이유는 무엇인가? 
   
     - 100%가 되어야 한다. 왜냐하면 I/O에 대한 요청이 없기 때문.


2. 이제 다음과 같이 플래그를 지정하고 실행시키시오: `./process-run.py -l 4:100, 1:0`. 이 플래그는 4개  의 명령어를 실행하고 모두 CPU만 사용하는 하나의 프로세스와 오직 입출력을 요청하고 완료되기를 기다리는 하나의 프로세스를 명시한다. 두 프로세스가 모두 종료되는 데 얼마의 시간이 걸리는가? 

     - 6(cpu) + 5(I/O) = 11로 계산된다. 총 11초가 걸리는데 I/O가 시작하고 끝날때는 CPU를 쓰기 때문에 2초가 더해진다.

3. 옵션으로 지정된 프로세스의 순서를 바꾸시오: `./process-run.py -l 1:0, 4:100`. 이제 어떤 결과가 나오는가? 실행 순서를 교환하는 것은 중요한가? 이유는 무엇인가?

    - process time이 2번과 4초가 차이난다. 그 이유는 process0이 먼저 실행되면 I/O를 요청하고 BLOCKED상태가 되고 이를 처리할 동안 process1이 실행되기 때문이다.

4. 중요한 플래그 중 하나는 -S로서 프로세스가 입출력을 요청했을 때 시스템이 어떻게 반응하는지를 결정한다. 이 플래그가 SWITCH_ON_END로 지정되면 시스템은 요청 프로세스가 입출력을 하는 동안 다른 프로세스로 전환하지 않고 대신 요청 프로세스가 종료될 때까지 기다린다. 입출력만 수행하는 프로세스와 CPU 작업만 하는 프로세스 두 개를 실행시키면 어떤 결과가 발생하는가?

    - process0(I/O)가 끝날때 까지 process1이 실행되지 않는다. process0이 끝나면 process1이 실행된다.

5. 프로세스가 입출력을 기다릴 때마다 다른 프로세스로 전환하도록 플래그를 지정하여 같은 프로세스를 실행시켜 보자 `-l 1:0,4:100 -c -S SWITCH_ON_IO`. 이제 어떤 결과가 발생하는가?

    - process0이 입출력을 처리하는 동안 cpu는 process1이 사용한다. 따라서 총 시간은 2(I/O의 시작과 끝) + 5(process1의 시간 + process0의 입출력 처리 시간) = 7초가 걸린다. process1보다 process0의 입출력시간이 더 길기 때문에 process1이 먼저 끝나고 process0이 끝나게 된다.

6. 또 다른 중요한 행동은 입출력이 완료되었을 때 무엇을 하느냐이다. -I IO_RUN_LATER 가 지정되면 입출력이 완료되었을 때 입출력을 요청한 프로세스가 바로 실행될 필요가 없다. 완료 시점에 실행 중이던 프로세스가 계속 실행된다. 다음과 같은 조합의 프로 세스를 실행시키면 무슨 결과가 나오는가? `/process-run.py -l 3:0, 5:100, 5:100, 5:100 -S SWITCH_ON_IO -I IO_RUN_LATER -c -p` 시스템 자원은 효과적으로 활용되는가?

    - process0이 첫 번째 입출력을 먼저 완료하고 process1, 2, 3이 차례대로 실행된 후 process0의 나머지 입출력이 완료된다. 입출력이 처리되면서 다른 프로세스를 처리하지 못했기 때문에 시스템 자원은 효과적으로 활용되지 않았다.

7. 같은 프로세스 조합을 실행시킬 때 `-I IO_RUN_IMMEDIATE`를 지정하고 실행시키 시오. 이 플래그는 입출력이 완료되었을 때 요청 프로세스가 곧바로 실행되는 동작을 의미한다. 이 동작은 어떤 결과를 만들어 내는가? 방금 입출력을 완료한 프로세스를
다시 실행시키는 것이 좋은 생각일 수 있는 이유는 무엇인가?

    - process0이 IO를 처리하는 동안 다른 process를 실행시킬 수 있고 자원을 더 효과적으로 사용하게된다.
  
8. 이제 다음과 같이 무작위로 생성된 프로세스를 실행시켜보자.예를들면,-s 1 -l 3:50,3:50, -s 2 -l 3:50,3:50, -s 3 -l 3:50,3:50. 어떤 양상을 보일지 예측할 수 있는지 생각해 보시오. -I IO_RUN_IMMEDIATE를 지정했을 때와 -I IO_RUN_LATER를 지정했을 때 어떤 결과가 나오는가? -S SWITCH_ON_IO 대 -S SWITCH_ON_END의 경우에는 어떤 결과가 나오는가?

    - todo : 나중에 풀어보기
   

